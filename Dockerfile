# Use the official PHP 8.1 FPM image                                                                                                                                                                                                         FROM php:8.1-fpm                                                                                                                                                                                                                                                                                                                                                                                                                                                                          # Install dependencies (nginx, etc.)                                                                                                                                                                                                         RUN apt-get update && apt-get install -y \                                                                                                                                                                                                       nginx \                                                                                                                                                                                                                                      && rm -rf /var/lib/apt/lists/*                                                                                                                                                                                                                                                                                                                                                                                                                                                        # Copy website files to the container                                                                                                                                                                                                        COPY ConnectFourSite /var/www/html/ConnectFourSite                                                                                                                                                                                                                                                                                                                                                                                                                                        # Copy custom Nginx configuration                                                                                                                                                                                                            COPY nginx/nginx.conf /etc/nginx/nginx.conf                                                                                                                                                                                                                                                                                                                                                                                                                                               # Copy entrypoint script and make it executable                                                                                                                                                                                              COPY docker-entrypoint.sh /usr/local/bin/                                                                                                                                                                                                    RUN chmod +x /usr/local/bin/docker-entrypoint.sh                                                                                                                                                                                                                                                                                                                                                                                                                                          # Expose port 80                                                                                                                                                                                                                             EXPOSE 80                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 # Set entrypoint                                                                                                                                                                                                                             ENTRYPOINT ["docker-entrypoint.sh"]                                                                                                                                                                                                                                                                                                                                                                                                                                                       # Start Nginx and PHP-FPM                                                                                                                                                                                                                    CMD ["nginx", "-g", "daemon off;"] 
